# 消息队列基础

如果公司本身的业务体量很小，直接**单机一把梭**啥都能搞定了，但后面业务体量不断扩大，采用**微服务的设计思想**，**分布式的部署方式**，所以拆分了很多的服务，随着体量的增加以及业务场景越来越复杂了，很多场景单机的技术栈和中间件以及不够用了，而且对系统的友好性也下降了，最后就需要引入**消息队列中间件**。

用来**异步、削峰、解耦**

缺点：

#### 1. 系统复杂性

本来蛮简单的一个系统，我代码随便写都没事，现在你凭空接入一个中间件在那，我是不是要考虑去维护他，而且使用的过程中是不是要考虑各种问题，比如消息**重复消费**、**消息丢失**、**消息的顺序消费**等等

#### 2. 数据一致性

**分布式事务**：把各个服务都放在一个事务里面一样，要成功一起成功，要失败一起失败。

#### 3. 可用性

### 技术选型

目前在市面上比较主流的消息队列中间件主要有，**Kafka、ActiveMQ、RabbitMQ、RocketMQ** 等这几种。**ActiveMQ**和**RabbitMQ**这两着因为吞吐量还有GitHub的社区活跃度的原因，在各大互联网公司都已经基本上绝迹了，业务体量一般的公司会是有在用的，但是越来越多的公司更青睐**RocketMQ**这样的消息中间件了。

